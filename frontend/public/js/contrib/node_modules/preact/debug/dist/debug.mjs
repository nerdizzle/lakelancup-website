import{checkPropTypes as n}from"prop-types";import{Fragment as t,options as e,toChildArray as r}from"preact";function i(n){return n.type===t?"Wrapper":"function"==typeof n.type?"Composite":"string"==typeof n.type?"Native":"Text"}function o(n){return n.type===t?"Fragment":"function"==typeof n.type?n.type.displayName||n.type.name:"string"==typeof n.type?n.type:"#text"}function u(n,t,e){var r=t.pop(),i=t.reduce(function(n,t){return n?n[t]:null},n);i&&(i[r]=e)}function a(n){var t=n.__c,e=null;null!=t&&(e={setState:t.setState.bind(t),forceUpdate:t.forceUpdate.bind(t),setInState:function(n,e){t.setState(function(t){return u(t,n,e),t})},setInProps:function(e,r){u(n.props,e,r),t.setState({})},setInContext:function(n,e){u(t.context,n,e),t.setState({})}});var r=c(n),a=n.endTime-n.startTime;return{nodeType:i(n),type:n.type,name:o(n),ref:n.ref||null,key:n.key||null,updater:e,text:n.text,state:null!=t?t.state:null,props:n.props,children:null==n.text?null!=r&&1==r.length&&null!=r[0].text?r[0].text:r:null,publicInstance:f(n),memoizedInteractions:[],actualDuration:a,actualStartTime:n.startTime,treeBaseDuration:a}}function c(n){var t=n.__c;return null==t?null!=n.__k?n.__k.filter(Boolean):[]:Array.isArray(t.__t)||null==t.__t?null:[t.__t]}function l(n){return n.type===t&&-1==n.endTime}function f(n){return l(n)?n.__k.length>0&&null!=n.__k[0].__e?n.__k[0].__e.parentNode:n:null!=n.__c?n.__c:n.type===t?n.props:n.__e}function s(n,t,e){if(null==n||null==t)return!1;for(var r in n)if((!e||"children"!=r||null==t[r])&&n[r]!==t[r])return!1;return Object.keys(n).length===Object.keys(t).length}function h(n){var t=n.props,e=o(n),r="";if(t)for(var i in t)if(t.hasOwnProperty(i)&&"children"!==i){var u=t[i];"function"==typeof u&&(u="function "+(u.displayName||u.name)+"() {}"),u=Object(u)!==u||u.toString?u+"":Object.prototype.toString.call(u),r+=" "+i+"="+JSON.stringify(u)}var a=t.children;return"<"+e+r+(a&&a.length?">..</"+e+">":" />")}var p=function(n,t){this.rid=t,this.hook=n,this.pending=[],this.inst2vnode=new WeakMap,this.connected=!1};function d(n){return function(t){try{return n(t)}catch(n){console.error("The react devtools encountered an error"),console.log(n)}}}p.prototype.markConnected=function(){this.connected=!0,this.flushPendingEvents()},p.prototype.flushPendingEvents=function(){if(this.connected){var n=this.pending;this.pending=[];for(var t=0;t<n.length;t++){var e=n[t];this.hook.emit(e.type,e)}}},p.prototype.mount=function(n){this.inst2vnode.set(f(n),n);var t=a(n),e=[{internalInstance:n,data:t,renderer:this.rid,type:"mount"}];if(Array.isArray(t.children))for(var r,i=t.children.slice();null!=(r=i.pop());){var o=c(r);i.push.apply(i,o),this.inst2vnode.set(f(r),r);var u=a(r);e.push({internalInstance:r,data:u,renderer:this.rid,type:"mount"})}for(var s=e.length;--s>=0;)this.pending.push(e[s]);l(n)&&this.pending.push({internalInstance:n,data:t,renderer:this.rid,type:"root"})},p.prototype.update=function(n){var t=a(n);if(Array.isArray(t.children))for(var e=0;e<t.children.length;e++){var r=t.children[e],i=f(r);null==this.inst2vnode.get(i)?this.mount(r):this.update(r),t.children[e]=this.inst2vnode.get(i)}var o=this.inst2vnode.get(t.publicInstance);!function(n,t){return n.props!==t.props&&!s(n.props,t.props,!0)||null!=n.__c&&!s(t.__c.t,t.__c.state)||n.__e!==t.__e||n.ref!==t.ref}(o,n)&&function(t,e){return t.startTime!==n.startTime||t.endTime!==n.endTime}(o)?this.pending.push({internalInstance:o,data:t,renderer:this.rid,type:"updateProfileTimes"}):this.pending.push({internalInstance:o,data:t,renderer:this.rid,type:"update"})},p.prototype.handleCommitFiberRoot=function(n){var t=f(n);this.inst2vnode.has(t)?this.update(n):this.mount(n);var e=null;if(l(n))n.treeBaseDuration=0,e=n;else for(e=n.__c;null!=e.__a;)e=e.__a;return this.pending.push({internalInstance:e,renderer:this.rid,data:a(e),type:"rootCommitted"}),this.flushPendingEvents(),n},p.prototype.handleCommitFiberUnmount=function(n){var t=f(n);this.inst2vnode.delete(t),this.pending.push({internalInstance:n,renderer:this.rid,type:"unmount"})},p.prototype.getNativeFromReactElement=function(n){return n.__e},p.prototype.getReactElementFromNative=function(n){return this.inst2vnode.get(n)||null},p.prototype.walkTree=function(){},p.prototype.cleanup=function(){};var v,y=function(){},m=Date.now;try{m=performance.now.bind(performance)}catch(n){}"development"===process.env.NODE_ENV&&(v=e.diff,e.diff=function(t){var e=t.props,i=e&&e.children;if(void 0===t.type)throw new Error("Undefined component passed to createElement()\n"+h(t));if(void 0!==t.ref&&"function"!=typeof t.ref&&"object"!=typeof t.ref&&!("$$typeof"in t))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof t.ref+"] instead\n"+h(t));"function"==typeof t.type&&t.type.propTypes&&n(t.type.propTypes,t.props,o(t),h(t));for(var u=[],a=0,c=r(i);a<c.length;a+=1){var l=c[a];if(l&&null!=l.key){var f=l.key;if(-1!==u.indexOf(f)){console.error('Following component has two or more children with the same key attribute: "'+f+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+h(t));break}u.push(f)}}v&&v(t)},function(){var n=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if(null!=n){var r=y,i=y,o=Math.random().toString(16).slice(2),u=new p(n,o);d(function(){var e=!1;try{e="production"!==process.env.NODE_ENV}catch(n){}window.parent.postMessage({source:"react-devtools-detector",reactBuildType:e?"development":"production"},"*");var a={bundleType:e?1:0,version:"16.5.2",rendererPackageName:"preact",findHostInstanceByFiber:function(n){return n.__e},findFiberByHostInstance:function(n){return u.inst2vnode.get(n)||null}};n._renderers[o]=a,Object.defineProperty(n.helpers,o,{get:function(){return u},set:function(){u.connected||c.markConnected()}});var c=n.helpers[o];n.emit("renderer-attached",{id:o,renderer:a,helpers:c}),r=d(function(e){if(e.type!==t||0!=e.__k.length){var r=n.getFiberRoots(o);e=c.handleCommitFiberRoot(e),r.has(e)||r.add(e)}}),i=d(function(t){n.onCommitFiberUnmount(o,t)})})();var a=e.vnode,c=e.commit,l=e.unmount,f=e.diff,s=e.diffed;e.vnode=function(n){n.startTime=NaN,n.endTime=NaN,n.startTime=0,n.endTime=-1,a&&a(n)},e.diff=function(n){n.startTime=m(),null!=f&&f(n)},e.diffed=function(n){n.endTime=m(),null!=s&&s(n)},e.commit=d(function(n){null!=c&&c(n),null!=n&&r(n)}),e.unmount=d(function(n){null!=l&&l(n),i(n)})}}());
//# sourceMappingURL=debug.mjs.map
